<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="profile-title">Profil Debater | DBA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <header class="main-header">...</header>
    
    <main class="container">
        
        <div id="debater-profile-hero">
            </div>

        <section id="debater-stats" class="featured-section">
            <h2 id="debater-name-stats">Rekor Pertarungan</h2>
            <div id="stats-grid" style="
                display: grid; 
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
                gap: 20px; 
                margin-top: 20px;
                text-align: center;
            ">
                </div>
        </section>

        <section id="match-history-section">
            <h2 class="section-heading-detail" style="margin-top: 60px;">Sejarah Pertarungan</h2>
            <div id="match-history-list">
                <p id="no-matches" class="ranking-intro" style="display: none;"></p>
            </div>
        </section>

    </main>
    
    <footer class="main-footer">...</footer>
    
    <script src="assets/js/data.js"></script>
    <script>
        // Logika Detail Profil (Ditambahkan ke script.js, tapi bisa ditaruh di sini untuk kemudahan)
        document.addEventListener('DOMContentLoaded', () => {
            
            // Ambil nama debater dari URL
            const urlParams = new URLSearchParams(window.location.search);
            const debaterName = urlParams.get('name');
            const debater = DEBATER_MAP[debaterName]; 
            
            if (!debater) {
                document.getElementById('debater-profile-hero').innerHTML = `<h1 class="page-title" style="color: red;">DEBATER TIDAK DITEMUKAN</h1>`;
                return;
            }
            
            document.getElementById('profile-title').textContent = `${debater.name} | Profil | DBA`;

            // --- 1. Render Hero Profil ---
            const heroDiv = document.getElementById('debater-profile-hero');
            heroDiv.innerHTML = `
                <div class="event-hero" style="height: 50vh; min-height: 350px;">
                    <img src="${debater.img}" alt="${debater.name}" class="hero-event-img" onerror="this.onerror=null;this.src='assets/img/placeholder.jpg';">
                    <div class="hero-overlay">
                        <div class="container">
                            <span class="event-date-loc">${debater.country} | REKOR: ${debater.record}</span>
                            <h1 class="event-detail-title">${debater.name.toUpperCase()}</h1>
                            <p class="event-description">${debater.bio}</p>
                        </div>
                    </div>
                </div>
            `;
            
            // --- 2. Render Statistik W/L per Tier ---
            const statsGrid = document.getElementById('stats-grid');
            let statsHTML = '';
            
            Object.keys(debater.tiers).forEach(tier => {
                const W = debater.tiers[tier].W;
                const L = debater.tiers[tier].L;
                const total = W + L;
                
                if (total > 0) {
                    statsHTML += `
                        <div style="background-color: var(--color-secondary-bg); padding: 15px; border-radius: 5px; border: 1px solid var(--color-tertiary-bg);">
                            <h3 style="font-size: 1.5em; margin-bottom: 5px; color: var(--color-accent-gold);">${tier.toUpperCase()}</h3>
                            <p style="font-size: 1.2em; font-family: var(--font-primary);">W: ${W} | L: ${L}</p>
                            <p style="font-size: 0.85em; color: var(--color-secondary-text);">(${total} Pertandingan)</p>
                        </div>
                    `;
                }
            });

            if (statsHTML === '') {
                 statsGrid.innerHTML = `<p class="ranking-intro" style="grid-column: 1 / -1; margin-top: 0;">Debater ini belum memiliki rekor pertarungan di Tier resmi.</p>`;
            } else {
                 statsGrid.innerHTML = statsHTML;
            }
            
            // --- 3. Render Sejarah Pertarungan ---
            const historyList = document.getElementById('match-history-list');
            const history = MATCH_RECORDS.filter(match => match.debaterA === debaterName || match.debaterB === debaterName);

            if (history.length === 0) {
                document.getElementById('no-matches').style.display = 'block';
                document.getElementById('no-matches').textContent = 'Belum ada sejarah pertarungan yang tercatat.';
            } else {
                let historyHTML = '';
                history.reverse().forEach(match => { // Urutkan dari yang terbaru
                    const opponent = match.debaterA === debaterName ? match.debaterB : match.debaterA;
                    const result = match.winner === debaterName ? 'WIN' : (match.winner === null ? 'JADWAL' : 'LOSS');
                    const resultColor = result === 'WIN' ? 'var(--color-accent-gold)' : (result === 'LOSS' ? 'red' : 'var(--color-secondary-text)');
                    const resultIcon = result === 'WIN' ? 'fas fa-check-circle' : (result === 'LOSS' ? 'fas fa-times-circle' : 'fas fa-calendar-alt');

                    historyHTML += `
                        <div class="fight-bout" style="border-left-color: ${resultColor}; margin-bottom: 10px;">
                            <div class="bout-type" style="color: ${resultColor};">
                                ${result} <i class="${resultIcon}"></i> - ${match.tier.toUpperCase()}
                            </div>
                            <div class="fighters-matchup">
                                <span class="fighter-name">${debaterName}</span>
                                <span class="vs-text">VS</span>
                                <span class="fighter-name" style="color: var(--color-secondary-text);">${opponent}</span>
                            </div>
                            <div class="bout-weight">
                                ${match.event} ${match.note ? `(${match.note})` : ''}
                            </div>
                        </div>
                    `;
                });
                historyList.innerHTML = historyHTML;
            }
        });
        
        // PENTING: Tambahkan kode dari script.js untuk fungsi header dll. di sini jika Anda tidak menautkan script.js lagi
    </script>
    <script src="assets/js/script.js"></script>
</body>
</html>
